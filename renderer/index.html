<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline'; script-src 'self'">
    <title>VLF Compress</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <h1 class="app-title">
                    <span class="title-icon">üì°</span>
                    VLF Compress
                </h1>
                <p class="app-subtitle">File Compression for VLF Communication</p>
            </div>
            <div class="mode-toggle">
                <button id="ashore-btn" class="mode-btn active" data-mode="ashore">
                    ‚ñ≤ Ashore
                </button>
                <button id="afloat-btn" class="mode-btn" data-mode="afloat">
                    ‚ñº Afloat
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="app-content">
            <!-- Ashore Mode (Compress) -->
            <div id="ashore-mode" class="mode-content active">
                <div class="mode-header">
                    <h2>Compress Files</h2>
                    <p>Compress files for VLF transmission using Brotli + Base32 encoding</p>
                </div>

                <div class="workflow-section">
                    <!-- Step 1: Select Input File -->
                    <div class="workflow-step">
                        <h3 class="step-title">
                            <span class="step-number">1</span>
                            Select Input File
                        </h3>
                        <div class="file-select-area" id="ashore-file-select">
                            <div class="file-select-content">
                                <div class="file-icon">üìÑ</div>
                                <p class="file-select-text">Click to select file or drag and drop</p>
                                <button class="btn btn-secondary" id="ashore-browse-btn">Browse Files</button>
                            </div>
                            <div class="file-info" id="ashore-file-info" style="display: none;">
                                <div class="file-preview">
                                    <span class="file-name" id="ashore-file-name"></span>
                                    <span class="file-size" id="ashore-file-size"></span>
                                </div>
                                <button class="btn-icon" id="ashore-clear-file" title="Clear">‚úï</button>
                            </div>
                        </div>
                    </div>

                    <!-- Step 2: Output Location -->
                    <div class="workflow-step">
                        <h3 class="step-title">
                            <span class="step-number">2</span>
                            Output Location
                        </h3>
                        <div class="path-input-group">
                            <input type="text" id="ashore-output-path" class="path-input" readonly placeholder="Output file path...">
                            <button class="btn btn-secondary" id="ashore-output-browse">Save As...</button>
                        </div>
                    </div>

                    <!-- Step 3: Compress -->
                    <div class="workflow-step">
                        <h3 class="step-title">
                            <span class="step-number">3</span>
                            Compress
                        </h3>
                        <button class="btn btn-primary" id="ashore-compress-btn" disabled>
                            <span class="btn-icon">‚ö°</span>
                            Compress File
                        </button>
                    </div>

                    <!-- Progress -->
                    <div class="progress-section" id="ashore-progress" style="display: none;">
                        <div class="progress-bar">
                            <div class="progress-fill"></div>
                        </div>
                        <p class="progress-text">Compressing text...</p>
                    </div>

                    <!-- Results -->
                    <div class="results-section" id="ashore-results" style="display: none;">
                        <h3 class="results-title">Compression Complete!</h3>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-label">Original Size</div>
                                <div class="stat-value" id="ashore-stat-original">-</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">Compressed Size</div>
                                <div class="stat-value" id="ashore-stat-compressed">-</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">Encoded Size</div>
                                <div class="stat-value" id="ashore-stat-encoded">-</div>
                            </div>
                            <div class="stat-card highlight">
                                <div class="stat-label">Compression Ratio</div>
                                <div class="stat-value" id="ashore-stat-ratio">-</div>
                            </div>
                            <div class="stat-card highlight">
                                <div class="stat-label">Space Saved</div>
                                <div class="stat-value" id="ashore-stat-saved">-</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">Character Count</div>
                                <div class="stat-value" id="ashore-stat-chars">-</div>
                            </div>
                        </div>
                        <div class="output-path">
                            <strong>Output:</strong> <span id="ashore-output-file">-</span>
                        </div>
                        <button class="btn btn-secondary" id="ashore-open-folder">
                            üìÅ Open Folder
                        </button>
                    </div>
                </div>
            </div>

            <!-- Afloat Mode (Decompress) -->
            <div id="afloat-mode" class="mode-content">
                <div class="mode-header">
                    <h2>Decompress Files</h2>
                    <p>Decompress received VLF messages back to original files</p>
                </div>

                <div class="workflow-section">
                    <!-- Step 1: Select Encoded File -->
                    <div class="workflow-step">
                        <h3 class="step-title">
                            <span class="step-number">1</span>
                            Select Encoded File
                        </h3>
                        <div class="file-select-area" id="afloat-file-select">
                            <div class="file-select-content">
                                <div class="file-icon">üì®</div>
                                <p class="file-select-text">Click to select encoded file or drag and drop</p>
                                <button class="btn btn-secondary" id="afloat-browse-btn">Browse Files</button>
                            </div>
                            <div class="file-info" id="afloat-file-info" style="display: none;">
                                <div class="file-preview">
                                    <span class="file-name" id="afloat-file-name"></span>
                                    <span class="file-size" id="afloat-file-size"></span>
                                </div>
                                <button class="btn-icon" id="afloat-clear-file" title="Clear">‚úï</button>
                            </div>
                        </div>
                    </div>

                    <!-- Step 2: Output Location -->
                    <div class="workflow-step">
                        <h3 class="step-title">
                            <span class="step-number">2</span>
                            Output Location
                        </h3>
                        <div class="path-input-group">
                            <input type="text" id="afloat-output-path" class="path-input" readonly placeholder="Output file path...">
                            <button class="btn btn-secondary" id="afloat-output-browse">Save As...</button>
                        </div>
                    </div>

                    <!-- Step 3: Decompress -->
                    <div class="workflow-step">
                        <h3 class="step-title">
                            <span class="step-number">3</span>
                            Decompress
                        </h3>
                        <button class="btn btn-primary" id="afloat-decompress-btn" disabled>
                            <span class="btn-icon">üîì</span>
                            Decompress File
                        </button>
                    </div>

                    <!-- Progress -->
                    <div class="progress-section" id="afloat-progress" style="display: none;">
                        <div class="progress-bar">
                            <div class="progress-fill"></div>
                        </div>
                        <p class="progress-text">Decompressing...</p>
                    </div>

                    <!-- Results -->
                    <div class="results-section" id="afloat-results" style="display: none;">
                        <h3 class="results-title">Decompression Complete!</h3>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-label">Encoded Size</div>
                                <div class="stat-value" id="afloat-stat-encoded">-</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">Compressed Size</div>
                                <div class="stat-value" id="afloat-stat-compressed">-</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">Decompressed Size</div>
                                <div class="stat-value" id="afloat-stat-decompressed">-</div>
                            </div>
                            <div class="stat-card highlight">
                                <div class="stat-label">Compression Ratio</div>
                                <div class="stat-value" id="afloat-stat-ratio">-</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">Character Count</div>
                                <div class="stat-value" id="afloat-stat-chars">-</div>
                            </div>
                        </div>
                        <div class="output-path">
                            <strong>Output:</strong> <span id="afloat-output-file">-</span>
                        </div>
                        <button class="btn btn-secondary" id="afloat-open-folder">
                            üìÅ Open Folder
                        </button>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="app-footer">
            <p>VLF Compress v1.0.0 | Brotli Compression + Base32 Encoding</p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>
